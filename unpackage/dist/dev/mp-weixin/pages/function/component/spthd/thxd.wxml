<view class="box data-v-0e8145fc" style="{{(skin)}}"><view class="status-bar data-v-0e8145fc"></view><view class="nav-bar data-v-0e8145fc"><view class="left data-v-0e8145fc"><navigator hidden="{{!(ifpage)}}" open-type="navigateBack" class="data-v-0e8145fc"><uni-icons vue-id="7cb00aec-1" type="back" size="30" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></navigator><view data-event-opts="{{[['tap',[['toback',['$event']]]]]}}" hidden="{{!(!ifpage)}}" class="navleftview data-v-0e8145fc" bindtap="__e"><uni-icons vue-id="7cb00aec-2" type="back" size="30" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></view></view><view hidden="{{!(ifpage)}}" class="center data-v-0e8145fc">退货新单</view><view hidden="{{!(!ifpage)}}" class="center data-v-0e8145fc">商品明细</view><view hidden="{{!(ifpage)}}" class="right data-v-0e8145fc"><u-button class="icon-button data-v-0e8145fc" vue-id="7cb00aec-3" text throttleTime="2000" disabled="{{state=='add'}}" data-event-opts="{{[['^tap',[['newOrder']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-icons vue-id="{{('7cb00aec-4')+','+('7cb00aec-3')}}" type="plusempty" size="30" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></u-button></view></view><view hidden="{{!(ifpage)}}" class="box-content data-v-0e8145fc"><view class="my-collapse data-v-0e8145fc"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="my-collapse-title data-v-0e8145fc" bindtap="__e"><view class="fold-title data-v-0e8145fc"><view class="fold-title-t fold-title-flex data-v-0e8145fc"><text class="data-v-0e8145fc">{{"单号:"+uFormTitle.djbh}}</text><block wx:if="{{tableData.length!='0'}}"><text data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="dhliang data-v-0e8145fc" catchtap="__e">{{"明细:"+tableData.length}}</text></block></view><view style="display:flex;justify-content:center;align-items:center;padding:8px;" class="data-v-0e8145fc"><block wx:if="{{myCollShow}}"><text class="data-v-0e8145fc">收起</text></block><block wx:else><text class="data-v-0e8145fc">展开</text></block><block wx:if="{{myCollShow}}"><uni-icons vue-id="7cb00aec-5" type="top" size="19" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block><block wx:else><uni-icons vue-id="7cb00aec-6" type="bottom" size="19" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block></view></view></view><view hidden="{{!(myCollShow)}}" class="my-collapse-con data-v-0e8145fc"><block wx:if="{{neworderShow}}"><view style="text-align:center;color:#F56C6C;" class="data-v-0e8145fc">这是一个新单！！！</view></block><u-form class="form-card data-v-0e8145fc" vue-id="7cb00aec-7" labelPosition="left" model="{{uFormTitle}}" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('7cb00aec-8')+','+('7cb00aec-7')}}" label="单据编号" labelWidth="{{76}}" prop="djbh" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-9')+','+('7cb00aec-8')}}" placeholder="请输入单据编号" disabled="{{true}}" value="{{uFormTitle.djbh}}" data-event-opts="{{[['^input',[['__set_model',['$0','djbh','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('7cb00aec-10')+','+('7cb00aec-7')}}" label="商家编号" labelWidth="{{76}}" prop="sjbh" data-event-opts="{{[['^tap',[['querySj',[false,'','sjbh']]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-11')+','+('7cb00aec-10')}}" placeholder="请选择商家编号" disabled="{{true}}" disabledColor="{{state=='pladd'||state=='edit'||state=='look'||state=='check'?'#F5F7FA':'#fff'}}" value="{{uFormTitle.sjbh}}" data-event-opts="{{[['^input',[['__set_model',['$0','sjbh','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('7cb00aec-12')+','+('7cb00aec-7')}}" label="退货仓库" labelWidth="{{76}}" prop="ckbh" data-event-opts="{{[['^tap',[['queryMore',[false,'','CKINFO','ckbh']]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-13')+','+('7cb00aec-12')}}" placeholder="请选择退货仓库" disabled="{{true}}" disabledColor="{{state=='pladd'||state=='edit'||state=='look'||state=='check'?'#F5F7FA':'#fff'}}" value="{{uFormTitle.ckbh}}" data-event-opts="{{[['^input',[['__set_model',['$0','ckbh','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('7cb00aec-14')+','+('7cb00aec-7')}}" label="退换类型" labelWidth="{{76}}" prop="tklx" data-event-opts="{{[['^tap',[['queryMore',[false,'','TKLX','tklx']]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-15')+','+('7cb00aec-14')}}" placeholder="请选择退换类型" disabled="{{true}}" disabledColor="{{state=='pladd'||state=='edit'||state=='look'||state=='check'?'#F5F7FA':'#fff'}}" value="{{uFormTitle.tklx}}" data-event-opts="{{[['^input',[['__set_model',['$0','tklx','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('7cb00aec-16')+','+('7cb00aec-7')}}" label="原始单号" labelWidth="{{76}}" prop="ysdh" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-17')+','+('7cb00aec-16')}}" placeholder="请输入原始单号" disabled="{{state=='look'||state=='check'}}" value="{{uFormTitle.ysdh}}" data-event-opts="{{[['^input',[['__set_model',['$0','ysdh','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('7cb00aec-18')+','+('7cb00aec-7')}}" label="备注说明" labelWidth="{{76}}" prop="remarks" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-19')+','+('7cb00aec-18')}}" placeholder="请输入备注说明" disabled="{{state=='look'||state=='check'}}" value="{{uFormTitle.remarks}}" data-event-opts="{{[['^input',[['__set_model',['$0','remarks','$event',[]],['uFormTitle']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input></u-form-item></u-form><view class="flex-btns data-v-0e8145fc"><u-button class="my-primary-button data-v-0e8145fc" vue-id="7cb00aec-20" type="primary" text="报审" disabled="{{state=='add'||state=='look'||state=='check'}}" throttleTime="2000" data-event-opts="{{[['^tap',[['subCheck']]]]}}" bind:tap="__e" bind:__l="__l"></u-button><u-button class="my-primary-button data-v-0e8145fc" vue-id="7cb00aec-21" type="primary" text="删单" disabled="{{state=='add'||state=='look'||state=='check'}}" throttleTime="2000" data-event-opts="{{[['^tap',[['deldh']]]]}}" bind:tap="__e" bind:__l="__l"></u-button><u-button class="my-primary-button data-v-0e8145fc" vue-id="7cb00aec-22" type="primary" text="新增明细" disabled="{{state=='look'||state=='check'}}" throttleTime="2000" data-event-opts="{{[['^tap',[['getcolumns']]]]}}" bind:tap="__e" bind:__l="__l"></u-button></view></view></view><view hidden="{{!(contentShow)}}" class="data-v-0e8145fc"><u-form class="form-card data-v-0e8145fc vue-ref" vue-id="7cb00aec-23" labelPosition="left" model="{{uFormModel}}" rules="{{uFormRules}}" data-ref="uForm" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item data-custom-hidden="{{!(doingindex>=0)}}" class="shoping data-v-0e8145fc" vue-id="{{('7cb00aec-24')+','+('7cb00aec-23')}}" label="商品编码" labelWidth="{{74}}" prop="spbm" bind:__l="__l" vue-slots="{{['default']}}"><u-input vue-id="{{('7cb00aec-25')+','+('7cb00aec-24')}}" placeholder="请输入商品编码/名称/简码" disabled="{{isVoiceMode}}" focus="{{focusObj.spbmFocus}}" value="{{uFormModel.spbm}}" data-event-opts="{{[['^change',[['spbmChange']]],['^input',[['__set_model',['$0','spbm','$event',[]],['uFormModel']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['suffix']}}"><view slot="suffix" class="data-v-0e8145fc"><block wx:if="{{uFormModel.spbm!=''}}"><uni-icons vue-id="{{('7cb00aec-26')+','+('7cb00aec-25')}}" type="clear" size="19" color="#e1e1e1" data-event-opts="{{[['^tap',[['clearAlone',['spbm']]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block></view></u-input><block wx:if="{{isVoiceMode}}"><uni-icons vue-id="{{('7cb00aec-27')+','+('7cb00aec-24')}}" custom-prefix="iconfont" type="icon-yuyin" color="{{doingId=='shoping'?'#358CC9':'#7A7A7A'}}" size="19" data-event-opts="{{[['^tap',[['clickYuyin',['shoping',false]]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block><block wx:if="{{!isVoiceMode&&!ispda}}"><uni-icons vue-id="{{('7cb00aec-28')+','+('7cb00aec-24')}}" custom-prefix="iconfont" type="icon-shouye" size="20" color="#606060" data-event-opts="{{[['^tap',[['scan']]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block></u-form-item><view class="data-v-0e8145fc"><view class="shopTishi data-v-0e8145fc"><block wx:if="{{uFormModel.spmc}}"><view class="shopTishi-view show-dots data-v-0e8145fc"><text class="left-con data-v-0e8145fc">名称-条码:</text><text class="data-v-0e8145fc">{{uFormModel.spmc}}</text>-<text class="data-v-0e8145fc">{{uFormModel.spsmm}}</text></view></block></view><view class="shopTishi data-v-0e8145fc"><block wx:if="{{uFormModel.dw}}"><view class="shopTishi-view-half data-v-0e8145fc"><text class="left-con data-v-0e8145fc">单位:</text><text class="data-v-0e8145fc">{{uFormModel.dw}}</text></view></block><block wx:if="{{uFormModel.gg}}"><view class="shopTishi-view-half data-v-0e8145fc"><text class="left-con data-v-0e8145fc">规格:</text><text class="data-v-0e8145fc">{{uFormModel.gg}}</text></view></block></view></view><u-form-item data-custom-hidden="{{!(doingindex>=1)}}" vue-id="{{('7cb00aec-29')+','+('7cb00aec-23')}}" label="库存批号" labelWidth="{{74}}" prop="kcph" data-event-opts="{{[['^tap',[['serchKcph']]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-30')+','+('7cb00aec-29')}}" placeholder="请选择库存批号" type="text" focus="{{focusObj.kcphFocus}}" value="{{uFormModel.kcph}}" data-event-opts="{{[['^input',[['__set_model',['$0','kcph','$event',[]],['uFormModel']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input><block wx:if="{{isVoiceMode}}"><uni-icons vue-id="{{('7cb00aec-31')+','+('7cb00aec-29')}}" custom-prefix="iconfont" type="icon-yuyin" color="{{doingId=='num'?'#358CC9':'#7A7A7A'}}" size="19" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block><block wx:else><text class="inp-right-text data-v-0e8145fc"></text></block></u-form-item><u-form-item data-custom-hidden="{{!(doingindex>=2)}}" vue-id="{{('7cb00aec-32')+','+('7cb00aec-23')}}" label="退货数量" labelWidth="{{74}}" prop="thsl" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-33')+','+('7cb00aec-32')}}" placeholder="请输入退货数量" type="number" focus="{{focusObj.numFocus}}" value="{{uFormModel.thsl}}" data-event-opts="{{[['^input',[['__set_model',['$0','thsl','$event',[]],['uFormModel']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input><block wx:if="{{isVoiceMode}}"><uni-icons vue-id="{{('7cb00aec-34')+','+('7cb00aec-32')}}" custom-prefix="iconfont" type="icon-yuyin" color="{{doingId=='num'?'#358CC9':'#7A7A7A'}}" size="19" data-event-opts="{{[['^tap',[['clickYuyin',['num',false]]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block><block wx:else><text class="inp-right-text data-v-0e8145fc"></text></block></u-form-item><u-form-item data-custom-hidden="{{!(doingindex>=3)}}" vue-id="{{('7cb00aec-35')+','+('7cb00aec-23')}}" label="退货价格" labelWidth="{{74}}" prop="thjg" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('7cb00aec-36')+','+('7cb00aec-35')}}" placeholder="请输入退货价格" type="number" focus="{{focusObj.priceFocus}}" value="{{uFormModel.thjg}}" data-event-opts="{{[['^input',[['__set_model',['$0','thjg','$event',[]],['uFormModel']]]]]}}" class="data-v-0e8145fc" bind:__l="__l"></u-input><block wx:if="{{isVoiceMode}}"><uni-icons vue-id="{{('7cb00aec-37')+','+('7cb00aec-35')}}" custom-prefix="iconfont" type="icon-yuyin" color="{{doingId=='price'?'#358CC9':'#7A7A7A'}}" size="19" data-event-opts="{{[['^tap',[['clickYuyin',['price',false]]]]]}}" bind:tap="__e" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></block><block wx:else><text class="inp-right-text data-v-0e8145fc"></text></block></u-form-item></u-form></view></view><u-button data-custom-hidden="{{!(ifpage&&contentShow)}}" class="my-primary-button sticky-bottom data-v-0e8145fc" vue-id="7cb00aec-38" type="primary" text="保存" throttleTime="2000" data-event-opts="{{[['^tap',[['save']]]]}}" bind:tap="__e" bind:__l="__l"></u-button><view hidden="{{!(!ifpage)}}" class="box-content data-v-0e8145fc"><edit vue-id="7cb00aec-39" title="{{editTitleObj}}" tableData="{{tableData}}" state="{{state}}" data-ref="editDetail" data-event-opts="{{[['^editSave',[['editSave']]],['^delgoods',[['delgoods']]]]}}" bind:editSave="__e" bind:delgoods="__e" class="data-v-0e8145fc vue-ref" bind:__l="__l"></edit></view><ocr-text data-custom-hidden="{{!(ocrShow)}}" bind:ocrBack="__e" vue-id="7cb00aec-40" data-event-opts="{{[['^ocrBack',[['ocrBack']]]]}}" class="data-v-0e8145fc" bind:__l="__l"></ocr-text><u-popup vue-id="7cb00aec-41" show="{{sppcpopup}}" mode="center" data-event-opts="{{[['^close',[['close']]],['^open',[['open']]]]}}" bind:close="__e" bind:open="__e" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><view style="max-width:80vw;" scroll-y="true" class="data-v-0e8145fc"><block wx:if="{{sppcdata!=undefined&&sppcdata!=null}}"><view class="data-v-0e8145fc"><u-scroll-list vue-id="{{('7cb00aec-42')+','+('7cb00aec-41')}}" class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{sppcdata}}" wx:for-item="v" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['isSppc',['$0'],[[['sppcdata','',i]]]]]]]}}" bindtap="__e" class="data-v-0e8145fc"><uni-card vue-id="{{('7cb00aec-43-'+i)+','+('7cb00aec-42')}}" title extra class="data-v-0e8145fc" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{v}}" wx:for-item="item" wx:for-index="index"><view style="display:flex;" class="data-v-0e8145fc"><view style="width:60px;" class="data-v-0e8145fc">{{index+":"}}</view><view class="data-v-0e8145fc">{{item}}</view></view></block></uni-card></view></block></u-scroll-list></view></block></view></u-popup><u-overlay vue-id="7cb00aec-44" show="{{coverShow}}" class="data-v-0e8145fc" bind:__l="__l"></u-overlay><u-toast vue-id="7cb00aec-45" data-ref="uToast" class="data-v-0e8145fc vue-ref" bind:__l="__l"></u-toast><u-popup class="u-popup-center data-v-0e8145fc" vue-id="7cb00aec-46" show="{{popupShow}}" mode="center" zIndex="5000" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="max-height:60vh;" scroll-y="true" class="data-v-0e8145fc"><block wx:if="{{ifDrawer=='title'}}"><view class="data-v-0e8145fc"><block wx:for="{{selectData}}" wx:for-item="v" wx:for-index="i"><view data-event-opts="{{[['tap',[['titleChange',['$0','$1'],[[['selectData','',i,'id']],[['selectData','',i,'name']]]]]]]}}" class="list data-v-0e8145fc" bindtap="__e"><text class="data-v-0e8145fc">{{v.id}}</text>-<text class="data-v-0e8145fc">{{v.name}}</text></view></block></view></block><block wx:else><block wx:if="{{ifDrawer=='goods'}}"><view class="shop data-v-0e8145fc"><block wx:for="{{selectData}}" wx:for-item="v" wx:for-index="i"><view data-event-opts="{{[['tap',[['setForm',['$0',false],[[['selectData','',i]]]]]]]}}" class="list data-v-0e8145fc" bindtap="__e"><view class="shop-l data-v-0e8145fc">{{i+1+":"}}</view><view class="shop-r data-v-0e8145fc"><view class="shop-r-t data-v-0e8145fc"><text class="t-name data-v-0e8145fc">{{v.spmc}}</text><text class="t-price data-v-0e8145fc">{{"￥"+v.nsjg}}</text></view><view class="shop-r-b data-v-0e8145fc"><view class="data-v-0e8145fc"><text class="b-xi data-v-0e8145fc">编码:</text><text class="b-cu data-v-0e8145fc">{{v.spbm}}</text></view><view class="data-v-0e8145fc"><text class="b-xi data-v-0e8145fc">条码:</text><text class="b-cu data-v-0e8145fc">{{v.spsmm}}</text></view></view></view></view></block></view></block></block></scroll-view><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="closebtn data-v-0e8145fc" bindtap="__e">取消</view></u-popup><movable-area hidden="{{!(ifpage&&contentShow)}}" class="movable-area data-v-0e8145fc"><movable-view hidden="{{!(!isVoiceMode)}}" class="movable-view data-v-0e8145fc" x="{{x}}" y="{{y}}" direction="all" animation="{{true}}" out-of-bounds="{{false}}"><view data-event-opts="{{[['tap',[['changeDh',['$event']]]]]}}" class="iconimgs guideJS2 data-v-0e8145fc" bindtap="__e"><view class="iconView data-v-0e8145fc"><uni-icons vue-id="7cb00aec-47" type="more-filled" size="30" color="#fff" class="data-v-0e8145fc" bind:__l="__l"></uni-icons></view><uni-transition class="uni-transition data-v-0e8145fc vue-ref" vue-id="7cb00aec-48" mode-class="fade" show="{{true}}" data-ref="uniTransition" bind:__l="__l" vue-slots="{{['default']}}"><view class="my-fab-view data-v-0e8145fc" style="width:46px;"></view><view data-event-opts="{{[['tap',[['changeSwitch',['$event']]]]]}}" class="my-fab-view data-v-0e8145fc" bindtap="__e"><uni-icons vue-id="{{('7cb00aec-49')+','+('7cb00aec-48')}}" custom-prefix="iconfont" type="icon-yuyin" color="#fff" size="30" class="data-v-0e8145fc" bind:__l="__l"></uni-icons><view class="data-v-0e8145fc">语音</view></view><view data-event-opts="{{[['tap',[['toOcr',['$event']]]]]}}" class="my-fab-view data-v-0e8145fc" bindtap="__e"><uni-icons vue-id="{{('7cb00aec-50')+','+('7cb00aec-48')}}" custom-prefix="iconfont" type="icon-OCRshibieguanli" color="#fff" size="30" class="data-v-0e8145fc" bind:__l="__l"></uni-icons><view class="data-v-0e8145fc">表格识别</view></view></uni-transition></view></movable-view><movable-view hidden="{{!(isVoiceMode)}}" class="movable-view movable-view-large data-v-0e8145fc" x="{{x}}" y="{{y}}" direction="all" animation="{{true}}" out-of-bounds="{{false}}"><goods-voice vue-id="7cb00aec-51" step="{{yuyinModelArr}}" list="{{selectData}}" searchCode="{{searchCode}}" data-ref="goodsVoice" data-event-opts="{{[['^updateList',[['__set_sync',['$0','selectData','$event'],['']]]],['^changeParentValue',[['changeParentValue']]],['^changeVoiceShow',[['changeVoiceShow']]],['^doing',[['doing']]]]}}" bind:updateList="__e" bind:changeParentValue="__e" bind:changeVoiceShow="__e" bind:doing="__e" class="data-v-0e8145fc vue-ref" bind:__l="__l"></goods-voice></movable-view></movable-area></view>