<view class="box data-v-3ebbd4e3" style="{{(skin)}}"><view class="status-bar data-v-3ebbd4e3"></view><view hidden="{{!(onepage)}}" class="nav-bar data-v-3ebbd4e3"><view class="left data-v-3ebbd4e3"><navigator open-type="navigateBack" class="data-v-3ebbd4e3"><uni-icons vue-id="ce816efa-1" type="back" size="30" color="#fff" class="data-v-3ebbd4e3" bind:__l="__l"></uni-icons></navigator></view><view class="center data-v-3ebbd4e3">配送拣货</view><view class="right data-v-3ebbd4e3"></view></view><view hidden="{{!(!onepage)}}" class="nav-bar data-v-3ebbd4e3"><view class="left data-v-3ebbd4e3"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="navleftview data-v-3ebbd4e3" bindtap="__e"><uni-icons vue-id="ce816efa-2" type="back" color="#fff" class="data-v-3ebbd4e3" bind:__l="__l"></uni-icons><view class="data-v-3ebbd4e3">返回</view></view></view><view class="center data-v-3ebbd4e3">配送拣货</view><view class="right data-v-3ebbd4e3"><uni-icons vue-id="ce816efa-3" custom-prefix="iconfont" type="icon-bi" color="#fff" size="20" data-event-opts="{{[['^tap',[['editorder']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></uni-icons><text data-event-opts="{{[['tap',[['reprint',['$event']]]]]}}" style="margin-left:10px;" bindtap="__e" class="data-v-3ebbd4e3">打印</text></view></view><view class="box-content data-v-3ebbd4e3"><view hidden="{{!(onepage)}}" class="onepage data-v-3ebbd4e3"><u-form vue-id="ce816efa-4" labelPosition="left" model="{{uFormModel}}" rules="{{uFormRules}}" data-ref="uForm" class="data-v-3ebbd4e3 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('ce816efa-5')+','+('ce816efa-4')}}" label="拣货工号:" labelWidth="{{80}}" prop="userid" borderBottom="{{true}}" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('ce816efa-6')+','+('ce816efa-5')}}" disabled="{{true}}" disabledColor="#fff" placeholder="请输入拣货工号" border="none" value="{{uFormModel.userid}}" data-event-opts="{{[['^input',[['__set_model',['$0','userid','$event',[]],['uFormModel']]]]]}}" class="data-v-3ebbd4e3" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('ce816efa-7')+','+('ce816efa-4')}}" label="拣货仓位:" labelWidth="{{80}}" prop="store" borderBottom="{{true}}" data-event-opts="{{[['^tap',[['searchStore']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('ce816efa-8')+','+('ce816efa-7')}}" placeholder="请选择仓位" disabled="{{true}}" disabledColor="#fff" border="none" value="{{uFormModel.store}}" data-event-opts="{{[['^input',[['__set_model',['$0','store','$event',[]],['uFormModel']]]]]}}" class="data-v-3ebbd4e3" bind:__l="__l"></u-input></u-form-item></u-form><lyy-table class="lyy-table data-v-3ebbd4e3" vue-id="ce816efa-9" headers="{{thData}}" height="300px" contents="{{tableData}}" headerFixed="{{true}}" bind:__l="__l"></lyy-table><u-button class="my-primary-button data-v-3ebbd4e3" vue-id="ce816efa-10" type="primary" text="开始拣货" throttleTime="1000" data-event-opts="{{[['^tap',[['startPick']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-icons vue-id="{{('ce816efa-11')+','+('ce816efa-10')}}" type="plusempty" size="20" color="#fff" class="data-v-3ebbd4e3" bind:__l="__l"></uni-icons>开始拣货</u-button></view><view hidden="{{!(!onepage)}}" class="twopage data-v-3ebbd4e3"><block wx:if="{{pickData.length!=0}}"><uni-collapse vue-id="ce816efa-12" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}"><uni-collapse-item vue-id="{{('ce816efa-13')+','+('ce816efa-12')}}" title-border="show" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default','title']}}"><view class="uni-collapse-item__title-box data-v-3ebbd4e3" slot="title"><text class="data-v-3ebbd4e3">*拣货单概况 (<font style="font-weight:600;font-size:17px;" vue-id="{{('ce816efa-14')+','+('ce816efa-13')}}" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}">箱号:</font><font style="color:red;font-size:17px;" vue-id="{{('ce816efa-15')+','+('ce816efa-13')}}" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}">{{pickData[0].当前分箱号}}</font>)</text></view><view class="content data-v-3ebbd4e3" style="padding:0 10px 10px;box-sizing:border-box;background-color:#fff;"><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">拣货单号:</text><text class="data-v-3ebbd4e3">{{pickData[0].拣货单号}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">拣货分店:</text><text class="data-v-3ebbd4e3">{{pickData[0].拣货分店}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">应拣品项:</text><text class="data-v-3ebbd4e3">{{pickData[0].应拣品项}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">应拣总量:</text><text class="data-v-3ebbd4e3">{{pickData[0].应拣总量}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">已拣品项:</text><text class="data-v-3ebbd4e3">{{pickData[0].已拣品项}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">已拣数量:</text><text class="data-v-3ebbd4e3">{{pickData[0].已拣数量}}</text></view></view></uni-collapse-item></uni-collapse></block><block wx:if="{{pickData2.length!=0}}"><view class="jh-detail data-v-3ebbd4e3"><view class="jh-detail-title data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">*当前拣货序号:<font style="font-size:16px;font-weight:600;color:#FF994B;" vue-id="ce816efa-16" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}">{{''+pickData2[0].序号}}</font></text><u-button vue-id="ce816efa-17" type="primary" text="上一个" size="mini" throttleTime="1000" data-event-opts="{{[['^tap',[['prepick']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button><u-button vue-id="ce816efa-18" type="primary" text="下一个" size="mini" throttleTime="1000" data-event-opts="{{[['^tap',[['nextpick']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button></view><view class="row-describe data-v-3ebbd4e3" style="font-size:16px;font-weight:600;color:red;"><text class="data-v-3ebbd4e3">拣货仓位:</text><text class="data-v-3ebbd4e3">{{pickData2[0].拣货仓位}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">商品条码:</text><text class="data-v-3ebbd4e3">{{pickData2[0].商品条码}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">商品名称:</text><text class="data-v-3ebbd4e3">{{pickData2[0].商品名称}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">规格包装:</text><text class="data-v-3ebbd4e3">{{pickData2[0].规格+"/"+pickData2[0].单位+"    "+pickData2[0].件包装数+"/"+pickData2[0].物流单位}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">库存数量:</text><text class="data-v-3ebbd4e3">{{pickData2[0].库存数量}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">配调数量:</text><text class="data-v-3ebbd4e3">{{pickData2[0].配调数量}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">包装数:</text><text class="data-v-3ebbd4e3">{{pickData2[0].拣货包装数}}</text></view><view class="row-describe data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">拣货数量:</text><u-number-box vue-id="ce816efa-19" min="0" inputWidth="90" value="{{pickData2[0].应拣数量}}" data-event-opts="{{[['^change',[['valChange']]],['^input',[['__set_model',['$0','应拣数量','$event',[]],['pickData2.__$n0']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-number-box></view><view class="btns data-v-3ebbd4e3"><u-button vue-id="ce816efa-20" type="primary" plain="{{true}}" text="换箱" throttleTime="1000" data-event-opts="{{[['^tap',[['changeBox']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button><u-button vue-id="ce816efa-21" type="primary" text="保存" throttleTime="1000" data-event-opts="{{[['^tap',[['picksave']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button></view><view class="btns data-v-3ebbd4e3"><u-button vue-id="ce816efa-22" type="primary" plain="{{true}}" text="取消" throttleTime="1000" class="data-v-3ebbd4e3" bind:__l="__l"></u-button><u-button vue-id="ce816efa-23" type="primary" text="更新" throttleTime="1000" class="data-v-3ebbd4e3" bind:__l="__l"></u-button></view></view></block></view><u-popup class="u-popup-center data-v-3ebbd4e3" vue-id="ce816efa-24" show="{{popupShow}}" mode="center" closeable="{{true}}" data-event-opts="{{[['^close',[['e1']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-3ebbd4e3"><u-checkbox-group bind:input="__e" vue-id="{{('ce816efa-25')+','+('ce816efa-24')}}" placement="column" iconPlacement="left" value="{{checkboxValue}}" data-event-opts="{{[['^input',[['__set_model',['','checkboxValue','$event',[]]]]]]}}" class="data-v-3ebbd4e3" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{storeData}}" wx:for-item="v" wx:for-index="i" wx:key="CWType"><u-checkbox vue-id="{{('ce816efa-26-'+i)+','+('ce816efa-25')}}" label="{{v.CWType}}" name="{{v.CWType}}" class="data-v-3ebbd4e3" bind:__l="__l"></u-checkbox></block></u-checkbox-group><view class="btns data-v-3ebbd4e3"><u-button vue-id="{{('ce816efa-27')+','+('ce816efa-24')}}" type="primary" plain="{{true}}" text="取消" throttleTime="1000" data-event-opts="{{[['^tap',[['e2']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button><u-button vue-id="{{('ce816efa-28')+','+('ce816efa-24')}}" type="primary" text="确定" throttleTime="1000" data-event-opts="{{[['^tap',[['checkboxChange']]]]}}" bind:tap="__e" class="data-v-3ebbd4e3" bind:__l="__l"></u-button></view></view></u-popup><u-popup class="u-popup-center data-v-3ebbd4e3" vue-id="ce816efa-29" show="{{editorderShow}}" mode="center" closeable="{{true}}" data-event-opts="{{[['^close',[['e3']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><text class="popup-title data-v-3ebbd4e3">拣货清单（<text style="color:red;" class="data-v-3ebbd4e3">红色未拣</text>）</text><scroll-view style="max-height:50vh;" scroll-y="true" class="data-v-3ebbd4e3"><block wx:for="{{editorderData}}" wx:for-item="v" wx:for-index="i"><view class="list data-v-3ebbd4e3"><view class="data-v-3ebbd4e3"><block wx:if="{{v.状态=='待拣'}}"><text style="color:red;" class="data-v-3ebbd4e3">{{v.商品名称}}</text></block><block wx:else><text style="color:green;" class="data-v-3ebbd4e3">{{v.商品名称}}</text></block>-<text class="data-v-3ebbd4e3">{{v.商品条码}}</text></view><view class="data-v-3ebbd4e3"><text class="data-v-3ebbd4e3">{{"应拣数: "+v.应拣数量+",调配数: "+v.配调数量}}</text></view></view></block></scroll-view></u-popup><u-popup class="u-popup-center data-v-3ebbd4e3" vue-id="ce816efa-30" show="{{printShow}}" mode="center" closeable="{{true}}" data-event-opts="{{[['^close',[['e4']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-3ebbd4e3"></view></u-popup><u-toast vue-id="ce816efa-31" data-ref="uToast" class="data-v-3ebbd4e3 vue-ref" bind:__l="__l"></u-toast></view></view>