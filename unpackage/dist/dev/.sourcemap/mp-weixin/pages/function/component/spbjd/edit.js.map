{"version":3,"sources":["webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?2f0a","webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?ba28","webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?c84a","webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?ac73","uni-app:///pages/function/component/spbjd/edit.vue","webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?bb85","webpack:////Users/coderyh/Downloads/ydyyapp/pages/function/component/spbjd/edit.vue?5b07"],"names":[],"mappings":"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","file":"pages/function/component/spbjd/edit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./edit.vue?vue&type=template&id=a969790c&scoped=true&\"\nvar renderjs\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=a969790c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a969790c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/function/component/spbjd/edit.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=template&id=a969790c&scoped=true&\"","var components\ntry {\n  components = {\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    rudonMultiSelector: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/rudon-multiSelector/components/rudon-multiSelector/rudon-multiSelector\" */ \"@/uni_modules/rudon-multiSelector/components/rudon-multiSelector/rudon-multiSelector.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-toast/u-toast\" */ \"uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"box-compents\">\n    <!-- 编辑单据 内容 -->\n    <view v-show=\"stateDetail\">\n      <view class=\"edit-title\">单号:{{title.djbh}}</view>\n      <u-form class=\"form-card\" labelPosition=\"left\" :model=\"editForm\" :rules=\"editRules\" ref=\"uForm\">\n        <u-form-item label=\"商品编码\" :labelWidth=\"74\" prop=\"spbm\" class=\"shoping\">\n          <u-input placeholder=\"请输入商品编码/名称/简码\" disabled v-model=\"editForm.spbm\">\n          </u-input>\n        </u-form-item>\n        <view>\n          <view class=\"shopTishi\">\n            <view class=\"shopTishi-view show-dots\" v-if=\"editForm.spmc\">\n              <text class=\"left-con\">名称-条码:</text>\n              <text>{{editForm.spmc}}</text>-\n              <text>{{editForm.spsmm}}</text>\n            </view>\n          </view>\n          <view class=\"shopTishi\">\n            <view class=\"shopTishi-view-half\" v-if=\"editForm.dw\">\n              <text class=\"left-con\">单位:</text>\n              <text>{{editForm.dw}}</text>\n            </view>\n            <view class=\"shopTishi-view-half\" v-if=\"editForm.gg\">\n              <text class=\"left-con\">规格:</text>\n              <text>{{editForm.gg}}</text>\n            </view>\n          </view>\n          <view class=\"shopTishi\">\n            <view class=\"shopTishi-view-half\" v-if=\"editForm.bqjg\">\n              <text class=\"left-con\">变前价格:</text>\n              <text>{{editForm.bqjg}}</text>\n            </view>\n          </view>\n        </view>\n        <u-form-item label=\"变后价格\" :labelWidth=\"74\" prop=\"bhjg\">\n          <u-input placeholder=\"请输入变后价格\" type=\"number\" v-model=\"editForm.bhjg\">\n          </u-input>\n        </u-form-item>\n        <u-form-item label=\"调价类型\" :labelWidth=\"74\" prop=\"jglxid\">\n<!--          <u-input placeholder=\"请输入报溢价格\" type=\"number\" v-model=\"editForm.jglxid\">-->\n<!--          </u-input>-->\n          <rudon-multiSelector welcome=\"请选择调价类型\" :is_using_slot=\"false\" :is_using_icon=\"true\" :localdata=\"jglxdata\" @change=\"jglxChanged\"></rudon-multiSelector>\n        </u-form-item>\n<!--        <u-form-item label=\"生效时间\" :labelWidth=\"74\" prop=\"sxsj\">-->\n<!--&lt;!&ndash;          <xuanSwitch :switchList=\"switchList\" :defaultSwitch=\"editForm.sxsj\" @change=\"switChange\"></xuanSwitch>&ndash;&gt;-->\n<!--          <uni-datetime-picker-->\n<!--              :value=\"start\"-->\n<!--              type=\"datetime\"-->\n<!--              v-model=\"editForm.sxsj\"-->\n<!--              @change=\"changeLog\"-->\n<!--          />-->\n<!--        </u-form-item>-->\n        <u-form-item label=\"分摊比率\" :labelWidth=\"74\" prop=\"fdssbl\">\n<!--          <xuanSwitch :switchList=\"switchList\" :defaultSwitch=\"editForm.splx\" @change=\"switChange\"></xuanSwitch>-->\n          <u-input placeholder=\"请输入分摊比率\" type=\"number\" v-model=\"editForm.fdssbl\">\n          </u-input>\n        </u-form-item>\n      </u-form>\n<!--      <view class=\"form-card\">-->\n<!--        <view style=\"display:flex;justify-content:space-between;\">-->\n<!--          <text>供价类型</text>-->\n<!--        </view>-->\n<!--        <view>-->\n<!--          <view class=\"radio-view\">-->\n<!--            <view class=\"radio-text\" v-for=\"(v, i) in lxlist\" :class=\"{lxactive:editForm.jgcxbz==v.sjcxlxid}\" @tap=\"formMoreChange(v.sjcxlxid)\">{{v.lxmc}}</view>-->\n<!--          </view>-->\n<!--        </view>-->\n<!--      </view>-->\n      <view class=\"btns\" v-if=\"stateDetail\">\n        <u-button type=\"primary\" class=\"my-primary-button\" :plain=\"true\" text=\"取消\" throttleTime=\"2000\"\n                  @tap=\"cancelDetail\"></u-button>\n        <u-button type=\"primary\" class=\"my-primary-button\" text=\"保存\" throttleTime=\"2000\" @tap=\"editDetailSave\">\n        </u-button>\n      </view>\n    </view>\n    <!--  -->\n    <view class=\"foldGroup\" v-show=\"!stateDetail\">\n      <view class=\"fold-title\" v-if=\"title.state!='add'\">\n        <view class=\"fold-title-t fold-title-flex-start\">\n          <text>{{title.djbh}}</text>\n        </view>\n      </view>\n      <view class=\"fold-content\" v-for=\"(item,index) in tableData\">\n        <view class=\"card-flex-wrap\">\n          <view class=\"card-row\">{{item.spmc}}</view>\n          <view>\n            <uni-icons type=\"compose\" size=\"20\" color=\"#3183C1\" v-if=\"state=='add'||state=='edit'||state=='pladd'\" @tap=\"toeditDetail(item,index)\"></uni-icons>\n            <uni-icons type=\"trash\" size=\"20\" color=\"#F13B44\" style=\"margin-left:10px;\" v-if=\"state=='add'||state=='edit'||state=='pladd'\" @tap=\"delGoods(item,index)\"></uni-icons>\n          </view>\n        </view>\n        <view class=\"multiples\">\n          <view class=\"multiple-con\">\n            <text class=\"left-con\">编码:</text>\n            <text class=\"right-con\">{{item.spbm}}</text>\n          </view>\n          <view class=\"multiple-con\">\n            <text class=\"left-con\">条码:</text>\n            <text class=\"right-con\">{{item.spsmm}}</text>\n          </view>\n        </view>\n        <view class=\"multiples\">\n          <view class=\"multiple-con view-flex\">\n            <text class=\"left-con\">变前价格:</text>\n            <text class=\"right-con\">{{item.bqjg}}</text>\n          </view>\n          <view class=\"multiple-con view-flex\">\n            <text class=\"left-con\">变后价格:</text>\n            <text class=\"right-con\">{{item.bhjg}}</text>\n          </view>\n        </view>\n        <view class=\"multiples\">\n          <view class=\"multiple-con view-flex\">\n            <text class=\"left-con\">生效时间:</text>\n            <text class=\"right-con\" style=\"font-size: 8px\">{{item.sxsj}}</text>\n          </view>\n          <view class=\"multiple-con view-flex\">\n            <text class=\"left-con\">商家名称:</text>\n            <text class=\"right-con\" style=\"font-size: 8px\">￥{{item.商家名称}}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n\n    <!-- 弹窗。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。 -->\n    <u-toast ref=\"uToast\"></u-toast>\n\n\n  </view>\n</template>\n\n<script>\nimport dayjs from \"dayjs\";\nimport {\n  Basic,\n  Search,\n  BjdDelLine\n} from \"@/network/api.js\";\nimport xuanSwitch from \"@/components/xuan-switch/xuan-switch.vue\";\nexport default {\n  props: {\n    tableData: {\n      type: Array,\n      default: () => {\n        return []\n      }\n    },\n    title: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    state:{\n      type: String,\n      default: () => {\n        return \"\"\n      }\n    },\n  },\n  components: {\n    xuanSwitch\n  },\n  data() {\n    return {\n      start:'2021-3-20',\n      switchList:[\"是\",\"否\"],\n      editForm:{\n        spbm: \"\",\n        spsmm: \"\",\n        spmc: \"\",\n        dw: \"\",\n        gg: \"\",\n        bysl: \"\",\n        nsjg: \"\",\n        splx: false,//赠送商品\n        jgcxbz: \"\",//供价类型\n\n        bqjg:'',\n        bhjg:'',\n        spremark:'',\n        jglxid:'',\n        jglx:'',\n        sxsj:'',\n        fdssbl:'',\n      },\n      editRules:{\n        \"bqjg\": [{\n          type: \"number\",\n          required: true,\n          message: \"请填写变前价格\",\n          trigger: [\"blur\", \"change\"]\n        },\n          {\n            asyncValidator: (rule, value, callback) => {\n              let reg=/^\\d+(\\.\\d+)?$/\n              if(reg.test(value)){\n                callback();\n              }else{\n                callback(new Error('请输入非负数'));\n              }\n            }\n          }\n        ],\n        \"bhjg\": [{\n          type: \"number\",\n          required: true,\n          message: \"请填写变后价格\",\n          trigger: [\"blur\", \"change\"]\n        },\n          {\n            asyncValidator: (rule, value, callback) => {\n              let reg=/^\\d+(\\.\\d+)?$/\n              if(reg.test(value)){\n                callback();\n              }else{\n                callback(new Error('请输入非负数'));\n              }\n            }\n          }\n        ],\n      },\n      serchGoodsData:[],\n      lxlist:[],\n      stateDetail: false,\n      tableIndex: -1,\n      jglxdata:[],\n    }\n  },\n  mounted() {\n    console.log(\"edit tableData\",this.tableData)\n    console.log(\"edit this.title\",this.title)\n    this.formMore(\"\",true)\n    //价格类型\n    this.jglxdata=uni.getStorageSync('basic').SPJGMS\n    let jglist = []\n    this.jglxdata.forEach((item,i)=>{\n      jglist.push({\n        \"value\": this.jglxdata[i].jglxid,\n        \"text\": this.jglxdata[i].jglxmc,\n        \"is_selected\":false\n      })\n    })\n    this.jglxdata=jglist\n  },\n  methods: {\n    changeLog(e) {\n      console.log(\"-change事件:\", e,this);\n    },\n    jglxChanged(e) {\n      let jglxlist=[]\n      e.forEach((item,i)=>{\n        if(item.is_selected){\n          jglxlist.push(item.value)\n        }\n      })\n\n      this.editForm.jglxid=jglxlist\n      this.jglxdata = e\n      console.log(this.editForm.jglxid)\n      if(this.editForm.jglxid.length=='1'){\n        this.editForm.jglxid=this.editForm.jglxid.toString()\n      }\n    },\n    // 查询 特供（供价类型）\n    formMore(lx,isAll) {\n      let dataes={\n        \"access_token\": uni.getStorageSync(\"access_token\"),\n        \"dtype\": \"DMINFO\",\n        \"companyid\": uni.getStorageSync(\"companyid\"),\n      }\n      Basic(dataes).then((res) => {\n        if (res.error_code == 0) {\n          if(isAll){\n            this.lxlist=res.data\n          }else{\n            for(var i in res.data){\n              if(res.data[i].sjcxlxid.indexOf(lx)>-1){\n                let xx = res.data[i].sjcxlxid\n                this.formMoreChange(xx)\n              }\n            }\n          }\n        }else{\n          this.$refs.uToast.show({\n            type:\"error\",\n            message: \"查询失败\"\n          })\n        }\n      }).catch((err) => {\n        console.log(err)\n      })\n    },\n    formMoreChange(item){\n      this.editForm.jgcxbz = item\n    },\n\n    // 编辑商品\n    toeditDetail(row, index) {\n      this.serchGoods(row.spbm,this.editForm)\n      // this.editForm.jgcxbz = row.jgcxbz\n      this.editForm.splx = row.splx==\"T\"?true:false\n      this.editForm.sjbh = row.fdsjbh\n      this.editForm.nsjg = row.nsjg\n      this.editForm.bqjg=row.bqjg\n      this.editForm.bhjg=row.bhjg\n      this.editForm.bjrq=row.bjrq\n      this.editForm.bjlsh=row.bjlsh\n      this.editForm.remark=row.remark\n      this.editForm.spmc=row.spmc\n      this.editForm.spbm=row.spbm\n      this.editForm.userid=row.userid\n      this.editForm.fdssbl=row.fdssbl\n      this.editForm.fdsjbh=row.fdsjbh\n      this.editForm.sxsj=row.sxsj\n\n      this.formMore(row.jgcxbz,false)\n      // this.$set(this.tableData[index], \"splx\", [this.tableData[index].splx])\n      this.stateDetail = true\n      this.tableIndex = index\n      if(row.jglxid.length>0){\n        this.jglxdata.forEach((item,i)=>{\n          if(item.value==row.jglxid){\n            item.is_selected=true\n            this.editForm.jglxid=item.value\n          }\n        })\n      }\n      console.log(\"编辑商品 row\",row)\n    },\n    cancelDetail() {\n      this.editForm.spbm= \"\"\n      this.editForm.spsmm= \"\"\n      this.editForm.spmc= \"\"\n      this.editForm.dw= \"\"\n      this.editForm.gg= \"\"\n      this.editForm.jgcxbz= \"\"//供价类型\n      this.editForm.splx= false//赠送商品\n      this.editForm.bysl= \"\"\n      this.editForm.nsjg= \"\"\n      this.stateDetail = false\n      this.tableIndex = -1\n    },\n\n    switChange(val){\n      this.editForm.splx=val\n    },\n    // 保存商品\n    editDetailSave() {\n      //this.$refs.uForm.validate().then(resf => {\n        this.uploadarr = []\n        // let xx = Number(this.tableData[this.tableIndex].rq.split(\"T\")[0].split(\"-\")[2]) + this.serchGoodsData.bzqts\n        console.log('2121',this.editForm,this.tableData[this.tableIndex])\n        this.uploadarr.push({\n          \"spmc\":this.tableData[this.tableIndex].spmc,\n          \"guid\": this.tableData[this.tableIndex].recordid,\n          \"spbm\": this.tableData[this.tableIndex].spbm,\n          \"spsmm\": this.tableData[this.tableIndex].spsmm,\n          \"sppc\":'',\n          \"bhjg\":this.editForm.bhjg,\n          \"bqjg\":this.tableData[this.tableIndex].bqjg,\n          \"fdssbl\":this.editForm.fdssbl,//分摊比率\n          \"lsh\":this.editForm.bjlsh,\n          \"sjbh\":this.editForm.sjbh,//分摊商家\n          \"spfixlx\":this.editForm.spfixlx,\n          \"spremark\":this.editForm.spremark,\n          \"sxsj\":this.tableData[this.tableIndex].sxsj,//生效时间\n        })\n        // console.log(\"保存商品 editDetailSave this.uploadarr\",this.uploadarr)\n        this.$emit(\"editSave\",this.uploadarr,this.editForm)\n      // }).catch(errors => {\n      //\n      // })\n    },\n\n    // 删除商品\n    delGoods(row, index) {\n      uni.showModal({\n        content: \"是否确认删除商品\",\n        success: (resm)=> {\n          if (resm.confirm) {\n            let dataes={\n              \"access_token\": uni.getStorageSync(\"access_token\"),\n              \"djbh\": row.bydbh,\n              \"fdbh\": uni.getStorageSync(\"fdbh\"),\n              \"userid\": uni.getStorageSync(\"userid\"),\n              \"username\": uni.getStorageSync(\"dlmc\"),\n              \"list\": [{\n                \"guid\": row.recordid,\n                \"spbm\": row.spbm,\n                \"spmc\": row.spmc,\n                \"spsmm\": row.spsmm\n              }]\n            }\n            console.log(\"删除商品 dataes\",dataes)\n            BjdDelLine(dataes).then((res) => {\n              if (res.error_code == 0) {\n                // this.$parent.getList()\n                this.$emit(\"delgoods\")\n                this.$refs.uToast.show({\n                  type: \"success\",\n                  message: \"删除成功\"\n                })\n              } else {\n                this.$refs.uToast.show({\n                  type: \"error\",\n                  message: res.message\n                })\n              }\n            }).catch((err) => {\n              console.log(err)\n            })\n          } else if (resm.cancel) {\n\n          }\n        }\n      });\n    },\n    serchGoods(val) {\n      let dataes={\n        \"access_token\": uni.getStorageSync(\"access_token\"),\n        \"companyid\": uni.getStorageSync(\"companyid\"),\n        \"condition\": val,\n        \"fdbh\": uni.getStorageSync(\"fdbh\"),\n        \"findtype\": \"01\",\n        \"goodstype\": \"SP\",\n        \"userid\": uni.getStorageSync(\"userid\"),\n      }\n      Search(dataes).then((res) => {\n        if (res.error_code == 0) {\n          this.serchGoodsData = res.data[0]\n          this.editForm.spbm=res.data[0].spbm\n          this.editForm.spsmm=res.data[0].spsmm\n          this.editForm.spmc=res.data[0].spmc\n          this.editForm.dw=res.data[0].dw\n          this.editForm.gg=res.data[0].gg\n          this.editForm.spremark=res.data[0].spremark\n          this.editForm.spfixlx=res.data[0].spfixlx\n\n        }\n      }).catch((err) => {\n        console.log(err)\n      })\n    },\n\n  },\n  watch: {\n\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.box-compents {\n  .edit-title {\n    padding:10px;\n    color: #fff;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    background-color: #358CC9;\n  }\n\n  .view-flex {\n    width: 100%;\n    display: flex;\n    align-items: center;\n\n    .form-left-text {\n      display: inline-block;\n      min-width: 64px;\n      text-align-last: justify;\n      margin-right: 10px;\n    }\n  }\n\n  .form-card {\n    padding: 10px 15px;\n    background-color: #fff;\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n    margin-bottom: 10px;\n    box-sizing: border-box;\n    .shopTishi{\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .shopTishi-view{\n        uni-text{\n          font-size: 14px;\n          color: #999;\n          font-weight: 400;\n        }\n      }\n      .shopTishi-view-half{\n        width: 50%;\n        uni-text{\n          font-size: 14px;\n          color: #999;\n          font-weight: 400;\n        }\n      }\n      .left-con{\n        margin-right: 4px;\n      }\n      .show-dots{\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n      }\n    }\n    .inp-right-text{\n      display: inline-block;\n      width: 19px;\n    }\n    .radio-view{\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .radio-text{\n        padding: 6px 14px;\n        background-color: #F5F5F5;\n        border-radius: 7px;\n      }\n    }\n    .uni-date {\n      width: 100%;\n      .uni-date__x-input {\n        height: 38px;\n      }\n      .uni-date-editor--x .uni-date__icon-clear {\n        top: 6px;\n        border: 2px solid transparent;\n      }\n      .uni-date-editor--x__disabled>.uni-date-x {\n        background-color: #F5F7FA;\n      }\n    }\n    .u-input__content__subfix-icon {\n      flex-direction: row;\n    }\n  }\n\n  .form-card>* {\n    margin-bottom: 14px;\n  }\n\n  .u-form.form-card>* {\n    margin-bottom: 14px;\n  }\n\n  .form-card>*:last-child {\n    margin-bottom: 0px;\n  }\n\n  /deep/.u-form {\n    .u-form-item__body {\n      padding: 0;\n    }\n    .u-form-item__body__right__content__slot{\n      display: flex;\n      justify-content: space-between;\n    }\n    .shoping{\n      margin-bottom: 0px;\n    }\n  }\n  .btns {\n    display: flex;\n    justify-content: space-around;\n    margin-top: 8px;\n\n    /deep/.u-button {\n      width: 33%;\n      margin: 0;\n    }\n  }\n\n  .foldGroup {\n    .fold-title>*{\n      margin-bottom: 8px;\n    }\n    .fold-title>*:last-child{\n      margin-bottom: 0px;\n    }\n    .fold-title{\n      margin-bottom: 10px;\n      border-radius: 10px;\n      box-sizing: border-box;\n      padding: 10px;\n      box-shadow: 0px 1px 5px 3px #e8e8e8;\n      background-color: #fff;\n      .fold-title-t{\n        font-size: 17px;\n        color: #1c1c28;\n        font-weight: 600;\n        margin-bottom: 4px;\n        padding-bottom: 4px;\n        border-bottom: 1px solid #ccc;\n      }\n      .fold-title-con{\n        color: #999;\n        font-weight: 400;\n      }\n      .fold-title-flex-start{\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n      }\n      .multiples {\n        width: 100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        .multiple-con {\n          width: 50%;\n        }\n      }\n      .show-dots{\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n      }\n      .left-con{\n        color: #999;\n        font-weight: 400;\n        margin-right: 4px;\n      }\n      .right-con{\n        color: #1c1c28;\n      }\n      .cu1{\n        color: #3a3a3a;\n      }\n      .cu-price{\n        color: #358CC9;\n      }\n    }\n\n    .fold-content {\n      margin-bottom: 10px;\n      border-radius: 10px;\n      box-sizing: border-box;\n      padding: 10px;\n      box-shadow: 0px 1px 5px 3px #e8e8e8;\n      background-color: #fff;\n\n      .card-flex-wrap {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        // flex-wrap: wrap;\n        .card-row {\n          font-size: 16px;\n          color: #1c1c28;\n          font-weight: 600;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n      }\n\n      .multiples {\n        width: 100%;\n        font-size: 14px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        .multiple-con {\n          width: 50%;\n        }\n\n        .left-con {\n          font-size: 12px;\n          color: #999;\n          font-weight: 400;\n          margin-right: 4px;\n          word-break: keep-all;\n        }\n\n        .right-con {\n          color: #1c1c28;\n        }\n      }\n    }\n\n    .fold-content>* {\n      margin-bottom: 10px;\n    }\n\n    .fold-content>*:last-child {\n      margin-bottom: 0px;\n    }\n  }\n\n  .lxactive{\n    background-color: #358CC9 !important;\n    color: #fff;\n  }\n\n\n  .flex-btns {\n    display: flex;\n    justify-content: space-between;\n\n    /deep/.u-button--primary.my-primary-button {\n      width: 28%;\n    }\n  }\n}\n\n/deep/.u-popup {\n  border-radius: 30px;\n\n  .u-popup__content {\n    padding-left: 15px;\n    padding-right: 15px;\n    padding-bottom: 10px;\n    border-radius: 20px;\n  }\n\n  .uni-scroll-view-content {\n    box-sizing: border-box;\n    padding: 10px 0;\n\n    .list {\n      padding: 10px;\n      border-bottom: 1px solid #E6E6E6;\n    }\n\n    .list>uni-text:first-child {\n      color: #4A4A4A;\n    }\n\n    .list>uni-text:last-child {\n      color: #A9A9A9;\n    }\n\n    .shop {\n      .list {\n        display: flex;\n        padding: 10px 0;\n\n        .shop-l {\n          width: 24px;\n          color: #060606;\n          font-weight: 600;\n        }\n\n        .shop-r {\n          width: calc(100% - 20px);\n\n          .shop-r-t {\n            display: flex;\n            justify-content: space-between;\n            font-weight: 600;\n            margin-bottom: 8px;\n\n            .t-name {\n              color: #484858;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              display: -webkit-box;\n              -webkit-line-clamp: 2;\n              -webkit-box-orient: vertical;\n            }\n\n            .t-price {\n              color: #3b9bda;\n            }\n          }\n\n          .shop-r-b {\n            display: flex;\n            justify-content: space-between;\n            font-size: 12px;\n\n            .b-xi {\n              color: #b1b1b1;\n              font-weight: 400;\n            }\n\n            .b-cu {\n              color: #717171;\n              font-weight: 500;\n            }\n\n          }\n        }\n      }\n    }\n  }\n\n  .closebtn {\n    text-align: center;\n    height: 34px;\n    line-height: 34px;\n    color: #358CC9;\n    font-size: 17px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&id=a969790c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&id=a969790c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677116520298\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}